<!-- /snippets/theme-footer.liquid -->
{% assign settings = section.settings %}
{% assign enable_footer_banner = settings.enable_footer_banner %}
{% assign footer_banner_color = settings.footer_banner_color %}
{% assign footer_banner_heading = settings.footer_banner_heading %}
{% assign footer_banner_lead = settings.footer_banner_lead %}
{% assign footer_banner_href = settings.footer_banner_href %}
{% assign footer_bg = settings.footer_bg %}
{% assign enable_social_media = settings.enable_social_media %}

{% assign form_success = 'subscribe.confirmation' | t %}
{% assign form_email_placeholder = 'form.email' | t %}
{% assign form_button_text = 'subscribe.title' | t %}

<style>
  .theme-footer {
    background: {{ footer_bg }};
  }

  .footer-banner {
    background: {{ footer_banner_color }};
  }
</style>
<footer class="theme-footer" role="contentinfo">
  {%- if enable_footer_banner == true -%}
    <div class="footer-banner">
      <h1 class="title">{{ footer_banner_heading }}</h1>
      {%- if footer_banner_href != blank -%}
        <a href="{{ footer_banner_href }}" class="lead">{{ footer_banner_lead }}</a>
      {%- else -%}
        <p class="lead">{{ footer_banner_lead }}</p>
      {%- endif -%}
    </div>
  {%- endif -%}
  <div class="container xl">
    <div class="main-footer">
      <div class="footer-menu">
        <ul>
          {%- for link in linklists['footer'].links -%}
            <li class="footer-item">{{ link.title | link_to: link.url }}</li>
          {%- endfor -%}
        </ul>
      </div>
      <div class="subscribe-form">
        {% form 'customer' %}
          {{ form.errors | default_errors }}

          {% if form.posted_successfully? %}
            <p class="note form-success">{{ form_success }}</p>
          {% else %}
            <input type="email" value="{% if customer %}{{ customer.email }}{% endif %}" placeholder="{{ form_email_placeholder }}" name="contact[email]" aria-label="{{ form_email_placeholder }}" autocorrect="off" autocapitalize="off">
            <input type="hidden" name="contact[tags]" value="newsletter">
            <input type="hidden" name="customer[accepts_marketing]" value="" />
            <button type="submit" name="subscribe" class="subscribe-btn">Sign Up</button>
          {% endif %}
        {% endform %}
      </div>
      {%- if enable_social_media == true -%}
        <div class="social-media">

        </div>
      {%- endif -%}
    </div>
  </div>
</footer>
{% schema %}
  {
    "name": "Footer",
    "settings": [
      {
        "type": "header",
        "content": "Footer Banner"
      },
      {
        "type": "checkbox",
        "id": "enable_footer_banner",
        "label": "Enable Banner",
        "default": true
      },
      {
        "type": "color",
        "id": "footer_banner_color",
        "label": "Banner Background",
        "default": "#f3f3f3"
      },
      {
        "type": "text",
        "id": "footer_banner_heading",
        "label": "Banner Heading",
        "default": "Discover your perfect fit today."
      },
      {
        "type": "text",
        "id": "footer_banner_lead",
        "label": "Banner Lead",
        "default": "Schedule a fitting"
      },
      {
        "type": "url",
        "id": "footer_banner_href",
        "label": "Banner Lead URL"
      },
      {
        "type": "header",
        "content": "Main Footer"
      },
      {
        "type": "color",
        "id": "footer_bg",
        "label": "Footer Background",
        "default": "#ffffff"
      },
      {
        "type": "checkbox",
        "id": "enable_social_media",
        "label": "Enable Social Media",
        "default": true
      }
    ]
  }
{% endschema %}
